{% extends "website/base.html" %}

{% block content %}

<h2> <em>{{ doctor.username.name }}</em> Profile Page</h2>
	<div>
	<!-- this link should only appear if the patient is logged in... -->
		{% if user.type == "Patient" %}
			<button><a href="{% url 'add_favorite' pk=doctor.pk %}">Add to Favorite Doctors</a></button>	
		{% endif %}
	</div>
    <!-- this link should only appear if the doctor is logged in... -->
    	{% if user.type == "Doctor" %}
        	<button><a href="{% url 'edit_docprofile' pk=doctor.pk %}">Edit</a></button>
        {% endif %}
    <div>
    </div>
	<div>
    	<ul>
	    	<li> <b>Speciality: </b> {{ doctor.speciality }}</li> 
	    	<li> <b>Rating: </b>{{ doctor.rating }}</li> 
	    	<li> <b>Next Availability: </b>{{ doctor.availability }}</li>
	    	<li> <b>Office Hours: </b>{{ doctor.officeHours }}</li>
	    	<li> <b>Location: </b>{{ doctor.street }}, {{ doctor.city }}, {{ doctor.state }}, {{ doctor.zip }}</li>
	    	<li> <b>Phone#: </b>{{ doctor.phoneNumber}}</li>
	    </ul>
     {{ form.map }}
	 {{ form.media.js }}
    </div>

    <div>
    	<h3> Bio</h3>
    	<ul>
	    	<li> <b>Education: </b> {{ doctor.education }}</li> 
	    	<li> <b>Awards: </b>{{ doctor.awards }}</li> 
	    	<li> <b>Experience: </b>{{ doctor.experience }}</li>
	    </ul>
    </div>
    <div>
    	<h3> Insurance Accepted</h3>
		    <ol>
    	{% for insurance in insurances %}
			    	<li> {{ insurance.name }}</li> 
		{% endfor %}
			</ol>
    </div>
    <div>
    	<h3> Reviews</h3>
    	<!-- this link should only appear if the patient is logged in... -->
    	{% if user.type == "Patient"%}
    		<button><a href="{% url 'add_review' pk=doctor.pk %}">Add Review!</a></button>
    	{% endif %}
    	{% for review in reviews %}
	    	<div>
		    	<ul>
			    	<li> <b>Posted By: </b> {{ review.patient.name }}</li> 
			    	<li> <b>Date: </b>{{ review.date }}</li>
			    	<li> <b>Rating: </b>{{ review.rating }}</li> 
			    	<li> <b>Comment: </b>{{ review.comment }}</li>
			    </ul>
			</div>
		{% endfor %}
    </div>

{% endblock %}
